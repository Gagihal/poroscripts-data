<!DOCTYPE html>
<html>
<head><title>ID Lookup Test</title></head>
<body>
<h1>Test Card ID → MCM URL</h1>
<input id="cardId" value="1666" placeholder="Card ID">
<button onclick="test()">Test Lookup</button>
<pre id="result"></pre>

<script src="https://raw.githubusercontent.com/Gagihal/poroscripts-data/main/poro-search-utils.js"></script>
<script>
async function test() {
  const cardId = document.getElementById('cardId').value;
  const result = document.getElementById('result');
  
  result.textContent = 'Testing...\n';
  
  try {
    // Test getMcmId
    const mcmId = await PoroSearch.getMcmId(cardId);
    result.textContent += `Card ID: ${cardId}\n`;
    result.textContent += `MCM ID: ${mcmId}\n`;
    
    // Test buildMcmDirectUrl
    const url = await PoroSearch.buildMcmDirectUrl(cardId);
    result.textContent += `Direct URL: ${url}\n`;
    
    if (url) {
      result.textContent += '\n✓ Success! Direct link available.';
    } else {
      result.textContent += '\n✗ No mapping found, would fall back to search.';
    }
  } catch (e) {
    result.textContent += `\nError: ${e.message}`;
  }
}
</script>
</body>
</html>
